<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Global</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Global</h1>

    




<section>

<header>
    
        <h2></h2>
        
    
</header>

<article>
    <div class="container-overview">
    
        

        


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


        
    
    </div>

    

    

    

    

    

    

    
        <h3 class="subsection-title">Members</h3>

        
            
<h4 class="name" id="connectionString"><span class="type-signature">(constant) </span>connectionString<span class="type-signature"></span></h4>




<div class="description">
    Connection.
</div>







<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="ms_database.js.html">ms_database.js</a>, <a href="ms_database.js.html#line30">line 30</a>
    </li></ul></dd>
    

    

    

    
</dl>






        
    

    
        <h3 class="subsection-title">Methods</h3>

        
            

    

    
    <h4 class="name" id="deleteFromSchedule"><span class="type-signature">(async) </span>deleteFromSchedule<span class="signature">(res)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Attempts to delete a recipe scheduled for a specific time. Successful queriesreturn 200, unsuccessful queries return 404 Not Found & failed queries return 500Internal Server Error. req.body must contain recipe_id and sceduled time (ISO 8601)
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>req.tokenPayload.account_id</code></td>
            

            <td class="type">
            
            </td>

            

            

            <td class="description last">Account ID passed from ms_entry</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>req.body.recipe_id</code></td>
            

            <td class="type">
            
            </td>

            

            

            <td class="description last">recipe ID passed from ms_entry</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>req.body.scheduled_time</code></td>
            

            <td class="type">
            
            </td>

            

            

            <td class="description last">scheduled time passed from ms_entry</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>res</code></td>
            

            <td class="type">
            
            </td>

            

            

            <td class="description last">res object represents HTTP response that's sent when it gets an HTTP request.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="ms_account.js.html">ms_account.js</a>, <a href="ms_account.js.html#line60">line 60</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="poolEnd"><span class="type-signature">(async) </span>poolEnd<span class="signature">()</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    poolEnd ends the current pool conection. This main purpose of this is to make sure the connection doesn't reaminopen for security and performance purposes.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="ms_database.js.html">ms_database.js</a>, <a href="ms_database.js.html#line126">line 126</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="query"><span class="type-signature">(async) </span>query<span class="signature">(parameters, queryFlag)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Query takes a flag and parameters and searches the database with a number of premade queries.Query flags are selected from a dictionary for user usablility and database security
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>parameters</code></td>
            

            <td class="type">
            
            </td>

            

            

            <td class="description last">Passed from ms_algorithm, ms_auth, ms_account as search paramaters for the database. Different microservicesuse different query flags.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>queryFlag</code></td>
            

            <td class="type">
            
            </td>

            

            

            <td class="description last">String refers to property of queryDictionary in one of the following formats
                <h6>Properties</h6>
                

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>searchAccountName</code></td>
            

            <td class="type">
            
            </td>

            

            

            <td class="description last">Takes account_username and returns all account information in the account table.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>getUserID</code></td>
            

            <td class="type">
            
            </td>

            

            

            <td class="description last">Takes account username and returns account_id</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>createAccount</code></td>
            

            <td class="type">
            
            </td>

            

            

            <td class="description last">Creates account in the account table with supplied account_username and account_password</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>removeAccount</code></td>
            

            <td class="type">
            
            </td>

            

            

            <td class="description last">Deletes account from the account table with supplied account_id and account_username</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>searchRecipeName</code></td>
            

            <td class="type">
            
            </td>

            

            

            <td class="description last">Returns all information in the recipe table where recipe_name is like search parameter</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>searchRecipeIngredients</code></td>
            

            <td class="type">
            
            </td>

            

            

            <td class="description last">Returns recipe information where ingredients are matched to the recipe</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>scheduleRecipe</code></td>
            

            <td class="type">
            
            </td>

            

            

            <td class="description last">Creates a scheduled recipe with account_id, recipe_id and a scheduled_time</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>getUsers</code></td>
            

            <td class="type">
            
            </td>

            

            

            <td class="description last">Returns all information on all accounts in account table</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>getUserSchedule</code></td>
            

            <td class="type">
            
            </td>

            

            

            <td class="description last">Returns recipe_name, scheduled_time, recipe_coking_time, recipe_serving_size,recipe_calories, recipe_method and ingredient_name array for each scheduled recipe for the acount</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>deleteFromSchedule</code></td>
            

            <td class="type">
            
            </td>

            

            

            <td class="description last">Deletes scheduled recipe identified by account_id, recipe_id and scheduled_time</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>mainSearch</code></td>
            

            <td class="type">
            
            </td>

            

            

            <td class="description last">Returns recipe_id, recipe_name, recipe_coking_time (as minutes), recipe_method, recipe_ingredientsrecipe_serving_size, recipe_calories and dietary_restrictions searched by input similar to ingredient_name or recipe_name</td>
        </tr>

    
    </tbody>
</table>

            </td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="ms_database.js.html">ms_database.js</a>, <a href="ms_database.js.html#line100">line 100</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="registerUser"><span class="type-signature">(async) </span>registerUser<span class="signature">(res)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    RegisterUser attempts to register a user. Undefined response from the queryindicates the username has already been registered. If the query fails a 500Internal Server Error is returned. req.body must contain username and password.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>req.body.username</code></td>
            

            <td class="type">
            
            </td>

            

            

            <td class="description last">the username is passed from ms_entry</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>req.body.password</code></td>
            

            <td class="type">
            
            </td>

            

            

            <td class="description last">the password is passed from ms_entry</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>res</code></td>
            

            <td class="type">
            
            </td>

            

            

            <td class="description last">res object represents HTTP response that's sent when it gets an HTTP request.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="ms_account.js.html">ms_account.js</a>, <a href="ms_account.js.html#line15">line 15</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="retrieveUserSchedule"><span class="type-signature">(async) </span>retrieveUserSchedule<span class="signature">(res)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Retrieves recipe infotmation from user's schedule. 404 Not found returned ifuser has npt scheduled any recipes or user does not exist. 500 Internal serverInternal Server Error if query fails.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>req.tokenPayload.account_id</code></td>
            

            <td class="type">
            
            </td>

            

            

            <td class="description last">Account ID passed from ms_entry</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>res</code></td>
            

            <td class="type">
            
            </td>

            

            

            <td class="description last">res object represents HTTP response that's sent when it gets an HTTP request.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="ms_account.js.html">ms_account.js</a>, <a href="ms_account.js.html#line83">line 83</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="scheduleRecipe"><span class="type-signature">(async) </span>scheduleRecipe<span class="signature">(res)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Attempts to schedule a recipe at a specific time (ISO 8601 format). Usercannot schedule the recipes at the same time slot, 409 returned if attempted.500 Internal Server Error returend if query failsreq.body must include recipe_id and scheduled_time.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>req.tokenPayload.account_id</code></td>
            

            <td class="type">
            
            </td>

            

            

            <td class="description last">Account ID passed from ms_entry</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>req.body.recipe_id</code></td>
            

            <td class="type">
            
            </td>

            

            

            <td class="description last">recipe ID passed from ms_entry</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>req.body.scheduled_time</code></td>
            

            <td class="type">
            
            </td>

            

            

            <td class="description last">scheduled time passed from ms_entry</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>res</code></td>
            

            <td class="type">
            
            </td>

            

            

            <td class="description last">res object represents HTTP response that's sent when it gets an HTTP request.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="ms_account.js.html">ms_account.js</a>, <a href="ms_account.js.html#line36">line 36</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
    

    

    
</article>

</section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Global</h3><ul><li><a href="global.html#connectionString">connectionString</a></li><li><a href="global.html#deleteFromSchedule">deleteFromSchedule</a></li><li><a href="global.html#poolEnd">poolEnd</a></li><li><a href="global.html#query">query</a></li><li><a href="global.html#registerUser">registerUser</a></li><li><a href="global.html#retrieveUserSchedule">retrieveUserSchedule</a></li><li><a href="global.html#scheduleRecipe">scheduleRecipe</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.3</a> on Sat Mar 21 2020 09:10:25 GMT+0000 (Greenwich Mean Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>